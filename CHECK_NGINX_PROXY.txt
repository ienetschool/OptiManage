NGINX PROXY CONFIGURATION CHECK
===============================

Your Node.js server is running on port 8080, but nginx might not be configured correctly.

Run these commands in your SSH terminal:

# 1. Check if your server is actually running and responding locally
curl http://localhost:8080/api/dashboard
curl http://127.0.0.1:8080/api/dashboard

# 2. Check what's listening on port 8080
netstat -tlnp | grep :8080

# 3. Check nginx configuration for opt.vivaindia.com
find /etc/nginx -name "*opt.vivaindia*" -type f
cat /etc/nginx/sites-available/opt.vivaindia.com 2>/dev/null || echo "Config not found"

# 4. Check Plesk nginx configuration
ls -la /var/www/vhosts/system/vivaindia.com/conf/
cat /var/www/vhosts/system/vivaindia.com/conf/nginx.conf 2>/dev/null || echo "Plesk config not found"

# 5. If you find the nginx config, it should have:
# proxy_pass http://127.0.0.1:8080;
# or
# proxy_pass http://localhost:8080;

# 6. Test nginx configuration and reload
sudo nginx -t
sudo systemctl reload nginx

The issue is that nginx is not properly forwarding requests to your Node.js server on port 8080.