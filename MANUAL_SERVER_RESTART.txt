MANUAL SERVER RESTART COMMANDS
==============================

The PM2 process shows "online" but server is not responding. This happens when:
- Process crashed but PM2 hasn't detected it
- Server bound to wrong interface
- Environment variables missing

RUN THESE COMMANDS IN SSH:

1. Check current PM2 status:
   pm2 status
   pm2 logs optistore-production --lines 20

2. Force restart PM2 process:
   pm2 restart optistore-production

3. If still not working, delete and recreate:
   pm2 delete optistore-production
   cd /var/www/vhosts/vivaindia.com/opt.vivaindia.sql
   DATABASE_URL="mysql://ledbpt_optie:g79h94LAP@5.181.218.15:3306/opticpro" PORT=8080 pm2 start tsx --name optistore-production -- server/index.ts
   pm2 save

4. Test if server responds:
   curl http://localhost:8080/api/dashboard

5. Check if port is listening:
   netstat -tlnp | grep 8080

6. If nothing works, start manually:
   pm2 delete optistore-production
   DATABASE_URL="mysql://ledbpt_optie:g79h94LAP@5.181.218.15:3306/opticpro" PORT=8080 tsx server/index.ts

After server starts successfully, it should show:
"Connecting to MySQL database: opticpro at 5.181.218.15:3306"
"serving on port 8080"

Then your website will work at opt.vivaindia.com/app/