MANUAL PRODUCTION DEPLOYMENT STEPS
===================================

Since the production server keeps crashing, let's deploy fresh files:

1. SSH into production:
   ssh root@5.181.218.15

2. Navigate to project:
   cd /var/www/vhosts/vivaindia.com/opt.vivaindia.sql

3. Stop everything:
   pkill -f tsx
   pkill -f node
   sudo fuser -k 8080/tcp

4. Install dependencies:
   npm install
   npm install -g tsx

5. Check for errors in current code:
   tsx --check server/index.ts

6. Start server in foreground to see errors:
   DATABASE_URL="mysql://ledbpt_optie:g79h94LAP@5.181.218.15:3306/opticpro" PORT=8080 tsx server/index.ts

   (If you see errors, copy them and tell me)
   (If you see "serving on port 8080", press Ctrl+C and continue to step 7)

7. Start in background:
   DATABASE_URL="mysql://ledbpt_optie:g79h94LAP@5.181.218.15:3306/opticpro" PORT=8080 tsx server/index.ts > production.log 2>&1 &

8. Verify:
   ps aux | grep tsx
   curl http://localhost:8080/api/dashboard

CRITICAL: Run step 6 first and tell me what error appears!